{"version":3,"sources":["satisfiesSemverSync.ts"],"sourcesContent":["require('./polyfills.ts');\n\nconst path = require('path');\nconst envPathKey = require('env-path-key');\nconst semver = require('semver');\n\nconst constants = require('./constants');\nconst existsSync = require('./existsSync');\n\nconst processVersion = path.join(__dirname, 'workers', 'processVersion.js');\n\nexport type satisfiesSemverSyncOptions = {\n  env?: object;\n};\n\nlet functionExec = null; // break dependencies\nexport default function satisfiesSemverSync(versionString: string, options: satisfiesSemverSyncOptions = {}): string | null {\n  if (!functionExec) functionExec = require('function-exec-sync'); // break dependencies\n\n  const env = options.env ?? process.env;\n  const pathKey = envPathKey(env);\n  const envPaths = env[pathKey].split(path.delimiter);\n\n  for (let i = 0; i < envPaths.length; i++) {\n    const envPath = envPaths[i];\n    const execPath = path.join(envPath, constants.node);\n    if (!existsSync(execPath)) continue;\n    const version = functionExec({ execPath }, processVersion);\n    if (semver.satisfies(version, versionString)) return execPath;\n  }\n\n  return null;\n}\n"],"names":["satisfiesSemverSync","require","path","envPathKey","semver","constants","existsSync","processVersion","join","__dirname","functionExec","versionString","options","env","process","pathKey","envPaths","split","delimiter","i","length","envPath","execPath","node","version","satisfies"],"mappings":";;;;+BAgBA;;;eAAwBA;;;AAhBxBC,QAAQ;AAER,IAAMC,OAAOD,QAAQ;AACrB,IAAME,aAAaF,QAAQ;AAC3B,IAAMG,SAASH,QAAQ;AAEvB,IAAMI,YAAYJ,QAAQ;AAC1B,IAAMK,aAAaL,QAAQ;AAE3B,IAAMM,iBAAiBL,KAAKM,IAAI,CAACC,WAAW,WAAW;AAMvD,IAAIC,eAAe,MAAM,qBAAqB;AAC/B,SAASV,oBAAoBW,aAAqB;QAAEC,UAAAA,iEAAsC,CAAC;IACxG,IAAI,CAACF,cAAcA,eAAeT,QAAQ,uBAAuB,qBAAqB;QAE1EW;IAAZ,IAAMC,MAAMD,CAAAA,eAAAA,QAAQC,GAAG,cAAXD,0BAAAA,eAAeE,QAAQD,GAAG;IACtC,IAAME,UAAUZ,WAAWU;IAC3B,IAAMG,WAAWH,GAAG,CAACE,QAAQ,CAACE,KAAK,CAACf,KAAKgB,SAAS;IAElD,IAAK,IAAIC,IAAI,GAAGA,IAAIH,SAASI,MAAM,EAAED,IAAK;QACxC,IAAME,UAAUL,QAAQ,CAACG,EAAE;QAC3B,IAAMG,WAAWpB,KAAKM,IAAI,CAACa,SAAShB,UAAUkB,IAAI;QAClD,IAAI,CAACjB,WAAWgB,WAAW;QAC3B,IAAME,UAAUd,aAAa;YAAEY,UAAAA;QAAS,GAAGf;QAC3C,IAAIH,OAAOqB,SAAS,CAACD,SAASb,gBAAgB,OAAOW;IACvD;IAEA,OAAO;AACT"}